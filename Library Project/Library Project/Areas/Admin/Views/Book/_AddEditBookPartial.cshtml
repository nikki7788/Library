
@model AddEditBookViewModel

<form method="post" enctype="multipart/form-data">

    <!--Modal Header-->
    @if (Model.BookId != 0)
    {
        @await Html.PartialAsync("_ModalHeaderPartial", new ModalHeader { Heading = "ویرایش کتاب" })
    }
    else
    {
        @await Html.PartialAsync("_ModalHeaderPartial", new ModalHeader { Heading = "افزودن کتاب" })

    }

    @Html.AntiForgeryToken();     <!--insed of [ValidateAntiForgeryToken]  in action -->
    <!--Modal Body-->
    <div class="modal-body">

        <div class="form-group row">
            <label asp-for="BookName" class="col-3 col-form-label"></label>
            <div class="col-9">
                <input asp-for="BookName" class="form-control" />
                <span asp-validation-for="BookName" class="text-danger"></span>
            </div>
        </div>

        <div class="form-group row">
            <label asp-for="BookDescription" class="col-3 col-form-label"></label>
            <div class="col-9 ">
                <textarea asp-for="BookDescription" id="BookDescription" name="BookDescription" class="form-control"></textarea>
                <span asp-validation-for="BookDescription" class="text-danger"></span>
                <script type="text/javascript">
                    var myEditor;
                    ClassicEditor
                        .create(document.querySelector('#BookDescription'))
                        .then(editor => {
                            console.log(editor);
                            myEditor = editor;
                        })
                        .catch(error => {
                            console.error(error);
                        });
                </script>
            </div>
        </div>

        <div class="form-group row">
            <label asp-for="BookGroupId" class="col-3 col-form-label"></label>
            <div class="col-9 ">
                <select asp-for="BookGroupId" asp-items="@Model.BookGroups" class="form-control"></select>
            </div>
        </div>

        <div class="form-group row">
            <label asp-for="AuthorId" class="col-3 col-form-label"></label>
            <div class="col-9">
                <select asp-for="AuthorId" asp-items="@Model.Authors" class="form-control"></select>
            </div>
        </div>


        <div class="form-group row">
            <label asp-for="BookPageCount" class="col-3 col-form-label"></label>
            <div class="col-9">
                <input asp-for="BookPageCount" class="form-control" />
            </div>
        </div>

        <!-- Uploding files -->
        <div class="form-group row">
            <label asp-for="BookImage" class="col-3 col-form-label"></label>
            <div class="col-9">
                <input type="file" id="files" name="files" class="form-control-file"  />
                @*<span asp-validation-for="BookImage" class="text-danger"></span>*@
            </div>
        </div>

        <input type="hidden" asp-for="BookId" />

        @*<input type="hidden" name="redirectUrl" value="@Url.Action("Index","Book")" />*@
    </div>



    <!--Modal Footer-->
    @if (Model.BookId != 0)
    {
        //  @await Html.PartialAsync("_ModalFooterPartial", new ModalFooter { SubmitButtonText = "ویرایش کتاب" })
        <div class="modal-footer">
            <input type="button" id="submitdata" value="ویرایش کتاب" class="btn btn-success" />
        </div>
    }
    else
    {
        //  @await Html.PartialAsync("_ModalFooterPartial", new ModalFooter { SubmitButtonText = "افزودن کتاب" })
        <div class="modal-footer">
            <input type="button" id="submitdata" value="افزودن کتاب" class="btn btn-success" />
        </div>
    }

</form>
